---
name: "hello-cluster"
components:
  proxy:
    type: "App.Container"
    data:
      name: "proxy"
      image: "haproxy"
      networks:
      - name: "front"
  app:
    type: "App.Container"
    data:
      name: "app"
      image: "wordpress"
      networks:
      - name: "back"
        aliases:
        - "application-1"
      - name: "front"
        aliases:
        - "my-service"
        - "my-application"
  db:
    type: "App.Container"
    data:
      name: "db"
      image: "postgres"
      networks:
      - name: "back"
        ipv4_address: "172.16.238.10"
        ipv6_address: "2001:3984:3989::10"
  front:
    type: "App.Network"
    data:
      name: "front"
      external: false
      containers.network.driver: "custom-driver-1"
  back:
    type: "App.Network"
    data:
      name: "back"
      ipam:
        config:
        - subnet: "172.16.238.0/24"
          gateway: "172.16.238.1"
        - subnet: "2001:3984:3989::/64"
          gateway: "2001:3984:3989::1"
      containers.network.driver: "bridge"
      containers.ipam.driver: "default"
      com.docker.network.enable_ipv6: "true"
  default:
    type: "App.Network"
    data:
      name: "default"
      external_name: "my-pre-existing-network"
