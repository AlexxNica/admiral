/*
 * Copyright (c) 2017 VMware, Inc. All Rights Reserved.
 *
 * This product is licensed to you under the Apache License, Version 2.0 (the "License").
 * You may not use this product except in compliance with the License.
 *
 * This product may include a number of subcomponents with separate copyright notices
 * and license terms. Your use of these subcomponents is subject to the terms and
 * conditions of the subcomponent's license, as noted in the LICENSE file.
 */

package com.vmware.admiral.adapter.kubernetes.mock;

import static com.vmware.admiral.adapter.kubernetes.mock.KubernetesPathConstants.BASE_PATH;

import java.net.URI;

import com.vmware.xenon.common.Operation;
import com.vmware.xenon.common.ServiceDocument;
import com.vmware.xenon.common.StatefulService;

public class MockKubernetesHostService extends StatefulService {
    public static final String SELF_LINK = BASE_PATH;

    public MockKubernetesHostService() {
        super(ServiceDocument.class);
    }

    @Override
    public void handleGet(Operation get) {
        URI uri = get.getUri();
        if (uri.getPath().endsWith(KubernetesPathConstants.PING)) {
            get.setBody("ok");
            get.complete();
        } else if (uri.getPath().endsWith(KubernetesPathConstants.NAMESPACES)) {
            get.setBody(namespaceStub());
            get.complete();
        } else if (uri.getPath().endsWith(KubernetesPathConstants.PODS)) {
            get.setBody(podStub());
            get.complete();
        } else if (uri.getPath().endsWith(KubernetesPathConstants.NODES)) {
            get.setBody(nodeStub());
            get.complete();
        } else if (uri.getPath().endsWith(KubernetesPathConstants.SERVICES)) {
            get.setBody(serviceStub());
            get.complete();
        } else if (uri.getPath().endsWith(KubernetesPathConstants.DEPLOYMENTS)) {
            get.setBody(deploymentStub());
            get.complete();
        } else if (uri.getPath().endsWith(KubernetesPathConstants.REPLICATION_CONTROLLERS)) {
            get.setBody(replicationControllerStub());
            get.complete();
        } else if (uri.getPath().contains(KubernetesPathConstants.DASHBOARD_PROXY_FOR_STATS)) {
            get.setBody(statsProxyStub());
            get.complete();
        } else {
            get.fail(new IllegalStateException("Operation path not supported."));
        }
    }

    private String namespaceStub() {
        return "{\n"
                + "  \"kind\": \"NamespaceList\",\n"
                + "  \"apiVersion\": \"v1\",\n"
                + "  \"metadata\": {\n"
                + "    \"selfLink\": \"/api/v1/namespaces\",\n"
                + "    \"resourceVersion\": \"1732355\"\n"
                + "  },\n"
                + "  \"items\": [\n"
                + "    {\n"
                + "      \"metadata\": {\n"
                + "        \"name\": \"default\",\n"
                + "        \"selfLink\": \"/api/v1/namespaces/default\",\n"
                + "        \"uid\": \"481b369e-d658-11e6-9ae1-0050569de380\",\n"
                + "        \"resourceVersion\": \"7\",\n"
                + "        \"creationTimestamp\": \"2017-01-09T10:42:13Z\"\n"
                + "      },\n"
                + "      \"spec\": {\n"
                + "        \"finalizers\": [\n"
                + "          \"kubernetes\"\n"
                + "        ]\n"
                + "      },\n"
                + "      \"status\": {\n"
                + "        \"phase\": \"Active\"\n"
                + "      }\n"
                + "    },\n"
                + "    {\n"
                + "      \"metadata\": {\n"
                + "        \"name\": \"kube-system\",\n"
                + "        \"selfLink\": \"/api/v1/namespaces/kube-system\",\n"
                + "        \"uid\": \"48942bef-d658-11e6-9ae1-0050569de380\",\n"
                + "        \"resourceVersion\": \"54\",\n"
                + "        \"creationTimestamp\": \"2017-01-09T10:42:14Z\",\n"
                + "        \"annotations\": {\n"
                + "          \"kubectl.kubernetes.io/last-applied-configuration\": \"{\\\"kind\\\":\\\"Namespace\\\",\\\"apiVersion\\\":\\\"v1\\\",\\\"metadata\\\":{\\\"name\\\":\\\"kube-system\\\",\\\"creationTimestamp\\\":null},\\\"spec\\\":{},\\\"status\\\":{}}\"\n"
                + "        }\n"
                + "      },\n"
                + "      \"spec\": {\n"
                + "        \"finalizers\": [\n"
                + "          \"kubernetes\"\n"
                + "        ]\n"
                + "      },\n"
                + "      \"status\": {\n"
                + "        \"phase\": \"Active\"\n"
                + "      }\n"
                + "    },\n"
                + "    {\n"
                + "      \"metadata\": {\n"
                + "        \"name\": \"test-namespace\",\n"
                + "        \"selfLink\": \"/api/v1/namespaces/test-namespace\",\n"
                + "        \"uid\": \"62a079a1-e308-11e6-9ae1-0050569de380\",\n"
                + "        \"resourceVersion\": \"1732291\",\n"
                + "        \"creationTimestamp\": \"2017-01-25T14:13:03Z\"\n"
                + "      },\n"
                + "      \"spec\": {\n"
                + "        \"finalizers\": [\n"
                + "          \"kubernetes\"\n"
                + "        ]\n"
                + "      },\n"
                + "      \"status\": {\n"
                + "        \"phase\": \"Active\"\n"
                + "      }\n"
                + "    }\n"
                + "  ]\n"
                + "}";
    }

    private String podStub() {
        return "{\n"
                + "  \"kind\": \"PodList\",\n"
                + "  \"apiVersion\": \"v1\",\n"
                + "  \"metadata\": {\n"
                + "    \"selfLink\": \"/api/v1/namespaces/default/pods\",\n"
                + "    \"resourceVersion\": \"1733267\"\n"
                + "  },\n"
                + "  \"items\": [\n"
                + "    {\n"
                + "      \"metadata\": {\n"
                + "        \"name\": \"nginx-mysql\",\n"
                + "        \"namespace\": \"default\",\n"
                + "        \"selfLink\": \"/api/v1/namespaces/default/pods/nginx-mysql\",\n"
                + "        \"uid\": \"f0e16f00-d800-11e6-9ae1-0050569de380\",\n"
                + "        \"resourceVersion\": \"1733031\",\n"
                + "        \"creationTimestamp\": \"2017-01-11T13:22:03Z\"\n"
                + "      },\n"
                + "      \"spec\": {\n"
                + "        \"volumes\": [\n"
                + "          {\n"
                + "            \"name\": \"default-token-bj5xs\",\n"
                + "            \"secret\": {\n"
                + "              \"secretName\": \"default-token-bj5xs\",\n"
                + "              \"defaultMode\": 420\n"
                + "            }\n"
                + "          }\n"
                + "        ],\n"
                + "        \"containers\": [\n"
                + "          {\n"
                + "            \"name\": \"nginx\",\n"
                + "            \"image\": \"nginx\",\n"
                + "            \"ports\": [\n"
                + "              {\n"
                + "                \"hostPort\": 85,\n"
                + "                \"containerPort\": 80,\n"
                + "                \"protocol\": \"TCP\"\n"
                + "              }\n"
                + "            ],\n"
                + "            \"env\": [\n"
                + "              {\n"
                + "                \"name\": \"MESSAGE\",\n"
                + "                \"value\": \"hello nginx\"\n"
                + "              }\n"
                + "            ],\n"
                + "            \"resources\": {},\n"
                + "            \"volumeMounts\": [\n"
                + "              {\n"
                + "                \"name\": \"default-token-bj5xs\",\n"
                + "                \"readOnly\": true,\n"
                + "                \"mountPath\": \"/var/run/secrets/kubernetes.io/serviceaccount\"\n"
                + "              }\n"
                + "            ],\n"
                + "            \"terminationMessagePath\": \"/dev/termination-log\",\n"
                + "            \"imagePullPolicy\": \"Always\"\n"
                + "          },\n"
                + "          {\n"
                + "            \"name\": \"mysql\",\n"
                + "            \"image\": \"mysql\",\n"
                + "            \"ports\": [\n"
                + "              {\n"
                + "                \"hostPort\": 3306,\n"
                + "                \"containerPort\": 3306,\n"
                + "                \"protocol\": \"TCP\"\n"
                + "              }\n"
                + "            ],\n"
                + "            \"env\": [\n"
                + "              {\n"
                + "                \"name\": \"MESSAGE\",\n"
                + "                \"value\": \"hello mysql\"\n"
                + "              }\n"
                + "            ],\n"
                + "            \"resources\": {},\n"
                + "            \"volumeMounts\": [\n"
                + "              {\n"
                + "                \"name\": \"default-token-bj5xs\",\n"
                + "                \"readOnly\": true,\n"
                + "                \"mountPath\": \"/var/run/secrets/kubernetes.io/serviceaccount\"\n"
                + "              }\n"
                + "            ],\n"
                + "            \"terminationMessagePath\": \"/dev/termination-log\",\n"
                + "            \"imagePullPolicy\": \"Always\"\n"
                + "          }\n"
                + "        ],\n"
                + "        \"restartPolicy\": \"Always\",\n"
                + "        \"terminationGracePeriodSeconds\": 30,\n"
                + "        \"dnsPolicy\": \"ClusterFirst\",\n"
                + "        \"serviceAccountName\": \"default\",\n"
                + "        \"serviceAccount\": \"default\",\n"
                + "        \"nodeName\": \"127.0.0.1\",\n"
                + "        \"securityContext\": {}\n"
                + "      },\n"
                + "      \"status\": {\n"
                + "        \"phase\": \"Running\",\n"
                + "        \"conditions\": [\n"
                + "          {\n"
                + "            \"type\": \"Initialized\",\n"
                + "            \"status\": \"True\",\n"
                + "            \"lastProbeTime\": null,\n"
                + "            \"lastTransitionTime\": \"2017-01-11T13:22:03Z\"\n"
                + "          },\n"
                + "          {\n"
                + "            \"type\": \"Ready\",\n"
                + "            \"status\": \"False\",\n"
                + "            \"lastProbeTime\": null,\n"
                + "            \"lastTransitionTime\": \"2017-01-25T14:22:53Z\",\n"
                + "            \"reason\": \"ContainersNotReady\",\n"
                + "            \"message\": \"containers with unready status: [mysql]\"\n"
                + "          },\n"
                + "          {\n"
                + "            \"type\": \"PodScheduled\",\n"
                + "            \"status\": \"True\",\n"
                + "            \"lastProbeTime\": null,\n"
                + "            \"lastTransitionTime\": \"2017-01-11T13:22:03Z\"\n"
                + "          }\n"
                + "        ],\n"
                + "        \"hostIP\": \"127.0.0.1\",\n"
                + "        \"podIP\": \"172.17.0.5\",\n"
                + "        \"startTime\": \"2017-01-11T13:22:03Z\",\n"
                + "        \"containerStatuses\": [\n"
                + "          {\n"
                + "            \"name\": \"mysql\",\n"
                + "            \"state\": {\n"
                + "              \"waiting\": {\n"
                + "                \"reason\": \"CrashLoopBackOff\",\n"
                + "                \"message\": \"Back-off 5m0s restarting failed container=mysql pod=nginx-mysql_default(f0e16f00-d800-11e6-9ae1-0050569de380)\"\n"
                + "              }\n"
                + "            },\n"
                + "            \"lastState\": {\n"
                + "              \"terminated\": {\n"
                + "                \"exitCode\": 1,\n"
                + "                \"reason\": \"Error\",\n"
                + "                \"startedAt\": \"2017-01-25T14:22:50Z\",\n"
                + "                \"finishedAt\": \"2017-01-25T14:22:52Z\",\n"
                + "                \"containerID\": \"docker://e781145ccd32b00f8cf2ea3042c10102aed2309831fd386197185513421bf614\"\n"
                + "              }\n"
                + "            },\n"
                + "            \"ready\": false,\n"
                + "            \"restartCount\": 3898,\n"
                + "            \"image\": \"mysql\",\n"
                + "            \"imageID\": \"docker-pullable://mysql@sha256:79690dd87d68fd4d801e65f5479f8865d572a6c7ac073c9273713a9c633022c5\",\n"
                + "            \"containerID\": \"docker://e781145ccd32b00f8cf2ea3042c10102aed2309831fd386197185513421bf614\"\n"
                + "          },\n"
                + "          {\n"
                + "            \"name\": \"nginx\",\n"
                + "            \"state\": {\n"
                + "              \"running\": {\n"
                + "                \"startedAt\": \"2017-01-11T13:22:08Z\"\n"
                + "              }\n"
                + "            },\n"
                + "            \"lastState\": {},\n"
                + "            \"ready\": true,\n"
                + "            \"restartCount\": 0,\n"
                + "            \"image\": \"nginx\",\n"
                + "            \"imageID\": \"docker-pullable://nginx@sha256:fab482910aae9630c93bd24fc6fcecb9f9f792c24a8974f5e46d8ad625ac2357\",\n"
                + "            \"containerID\": \"docker://48896e7338126c05b0ccc9f73cda870f01563a4de8cb214f206dc8b4ff3f7230\"\n"
                + "          }\n"
                + "        ]\n"
                + "      }\n"
                + "    }\n"
                + "  ]\n"
                + "}";
    }

    private String nodeStub() {
        return "{\n"
                + "  \"kind\": \"NodeList\",\n"
                + "  \"apiVersion\": \"v1\",\n"
                + "  \"metadata\": {\n"
                + "    \"selfLink\": \"/api/v1/nodes\",\n"
                + "    \"resourceVersion\": \"2709530\"\n"
                + "  },\n"
                + "  \"items\": [\n"
                + "    {\n"
                + "      \"metadata\": {\n"
                + "        \"name\": \"127.0.0.1\",\n"
                + "        \"selfLink\": \"/api/v1/nodes127.0.0.1\",\n"
                + "        \"uid\": \"48876cb7-d658-11e6-9ae1-0050569de380\",\n"
                + "        \"resourceVersion\": \"2709521\",\n"
                + "        \"creationTimestamp\": \"2017-01-09T10:42:14Z\",\n"
                + "        \"labels\": {\n"
                + "          \"beta.kubernetes.io/arch\": \"amd64\",\n"
                + "          \"beta.kubernetes.io/os\": \"linux\",\n"
                + "          \"kubernetes.io/hostname\": \"127.0.0.1\"\n"
                + "        },\n"
                + "        \"annotations\": {\n"
                + "          \"volumes.kubernetes.io/controller-managed-attach-detach\": \"true\"\n"
                + "        }\n"
                + "      },\n"
                + "      \"spec\": {\n"
                + "        \"externalID\": \"127.0.0.1\"\n"
                + "      },\n"
                + "      \"status\": {\n"
                + "        \"capacity\": {\n"
                + "          \"alpha.kubernetes.io/nvidia-gpu\": \"0\",\n"
                + "          \"cpu\": \"4\",\n"
                + "          \"memory\": \"8011180Ki\",\n"
                + "          \"pods\": \"110\"\n"
                + "        },\n"
                + "        \"allocatable\": {\n"
                + "          \"alpha.kubernetes.io/nvidia-gpu\": \"0\",\n"
                + "          \"cpu\": \"4\",\n"
                + "          \"memory\": \"8011180Ki\",\n"
                + "          \"pods\": \"110\"\n"
                + "        },\n"
                + "        \"addresses\": [\n"
                + "          {\n"
                + "            \"type\": \"LegacyHostIP\",\n"
                + "            \"address\": \"127.0.0.1\"\n"
                + "          },\n"
                + "          {\n"
                + "            \"type\": \"InternalIP\",\n"
                + "            \"address\": \"127.0.0.1\"\n"
                + "          },\n"
                + "          {\n"
                + "            \"type\": \"Hostname\",\n"
                + "            \"address\": \"127.0.0.1\"\n"
                + "          }\n"
                + "        ],\n"
                + "        \"nodeInfo\": {\n"
                + "          \"machineID\": \"cf742c5b2ef64b18a93d3785f5444d22\",\n"
                + "          \"systemUUID\": \"421D99A3-F381-0EE4-8517-7B2B1FDB9C83\",\n"
                + "          \"bootID\": \"56139095-c991-4a8f-8d67-c0631bb770d7\",\n"
                + "          \"kernelVersion\": \"3.10.0-327.36.3.el7.x86_64\",\n"
                + "          \"osImage\": \"Debian GNU/Linux 8 (jessie)\",\n"
                + "          \"containerRuntimeVersion\": \"docker://1.12.3\",\n"
                + "          \"kubeletVersion\": \"v1.5.1\",\n"
                + "          \"kubeProxyVersion\": \"v1.5.1\",\n"
                + "          \"operatingSystem\": \"linux\",\n"
                + "          \"architecture\": \"amd64\"\n"
                + "        }\n"
                + "      }\n"
                + "    }\n"
                + "  ]\n"
                + "}";
    }

    private String serviceStub() {
        return "{\n"
                + "  \"kind\": \"ServiceList\",\n"
                + "  \"apiVersion\": \"v1\",\n"
                + "  \"metadata\": {\n"
                + "    \"selfLink\": \"/api/v1/namespaces/kube-system/services\",\n"
                + "    \"resourceVersion\": \"2048841\"\n"
                + "  },\n"
                + "  \"items\": [\n"
                + "    {\n"
                + "      \"metadata\": {\n"
                + "        \"name\": \"heapster\",\n"
                + "        \"namespace\": \"kube-system\",\n"
                + "        \"selfLink\": \"/api/v1/namespaces/kube-system/services/heapster\",\n"
                + "        \"uid\": \"4b47a07b-eed0-11e6-b39c-005056803d65\",\n"
                + "        \"resourceVersion\": \"211\",\n"
                + "        \"creationTimestamp\": \"2017-02-09T14:01:46Z\",\n"
                + "        \"labels\": {\n"
                + "          \"kubernetes.io/cluster-service\": \"true\",\n"
                + "          \"kubernetes.io/name\": \"Heapster\"\n"
                + "        },\n"
                + "        \"annotations\": {\n"
                + "          \"kubectl.kubernetes.io/last-applied-configuration\": \"{\\\"kind\\\":\\\"Service\\\",\\\"apiVersion\\\":\\\"v1\\\",\\\"metadata\\\":{\\\"name\\\":\\\"heapster\\\",\\\"namespace\\\":\\\"kube-system\\\",\\\"creationTimestamp\\\":null,\\\"labels\\\":{\\\"kubernetes.io/cluster-service\\\":\\\"true\\\",\\\"kubernetes.io/name\\\":\\\"Heapster\\\"}},\\\"spec\\\":{\\\"ports\\\":[{\\\"port\\\":80,\\\"targetPort\\\":8082}],\\\"selector\\\":{\\\"k8s-app\\\":\\\"heapster\\\"}},\\\"status\\\":{\\\"loadBalancer\\\":{}}}\"\n"
                + "        }\n"
                + "      },\n"
                + "      \"spec\": {\n"
                + "        \"ports\": [\n"
                + "          {\n"
                + "            \"protocol\": \"TCP\",\n"
                + "            \"port\": 80,\n"
                + "            \"targetPort\": 8082\n"
                + "          }\n"
                + "        ],\n"
                + "        \"selector\": {\n"
                + "          \"k8s-app\": \"heapster\"\n"
                + "        },\n"
                + "        \"clusterIP\": \"10.0.106.144\",\n"
                + "        \"type\": \"ClusterIP\",\n"
                + "        \"sessionAffinity\": \"None\"\n"
                + "      },\n"
                + "      \"status\": {\n"
                + "        \"loadBalancer\": {}\n"
                + "      }\n"
                + "    },\n"
                + "    {\n"
                + "      \"metadata\": {\n"
                + "        \"name\": \"kube-dns\",\n"
                + "        \"namespace\": \"kube-system\",\n"
                + "        \"selfLink\": \"/api/v1/namespaces/kube-system/services/kube-dns\",\n"
                + "        \"uid\": \"4b60b8b9-eed0-11e6-b39c-005056803d65\",\n"
                + "        \"resourceVersion\": \"230\",\n"
                + "        \"creationTimestamp\": \"2017-02-09T14:01:46Z\",\n"
                + "        \"labels\": {\n"
                + "          \"k8s-app\": \"kube-dns\",\n"
                + "          \"kubernetes.io/cluster-service\": \"true\",\n"
                + "          \"kubernetes.io/name\": \"KubeDNS\"\n"
                + "        },\n"
                + "        \"annotations\": {\n"
                + "          \"kubectl.kubernetes.io/last-applied-configuration\": \"{\\\"kind\\\":\\\"Service\\\",\\\"apiVersion\\\":\\\"v1\\\",\\\"metadata\\\":{\\\"name\\\":\\\"kube-dns\\\",\\\"namespace\\\":\\\"kube-system\\\",\\\"creationTimestamp\\\":null,\\\"labels\\\":{\\\"k8s-app\\\":\\\"kube-dns\\\",\\\"kubernetes.io/cluster-service\\\":\\\"true\\\",\\\"kubernetes.io/name\\\":\\\"KubeDNS\\\"}},\\\"spec\\\":{\\\"ports\\\":[{\\\"name\\\":\\\"dns\\\",\\\"protocol\\\":\\\"UDP\\\",\\\"port\\\":53,\\\"targetPort\\\":0},{\\\"name\\\":\\\"dns-tcp\\\",\\\"protocol\\\":\\\"TCP\\\",\\\"port\\\":53,\\\"targetPort\\\":0}],\\\"selector\\\":{\\\"k8s-app\\\":\\\"kube-dns\\\"},\\\"clusterIP\\\":\\\"10.0.0.10\\\"},\\\"status\\\":{\\\"loadBalancer\\\":{}}}\"\n"
                + "        }\n"
                + "      },\n"
                + "      \"spec\": {\n"
                + "        \"ports\": [\n"
                + "          {\n"
                + "            \"name\": \"dns\",\n"
                + "            \"protocol\": \"UDP\",\n"
                + "            \"port\": 53,\n"
                + "            \"targetPort\": 53\n"
                + "          },\n"
                + "          {\n"
                + "            \"name\": \"dns-tcp\",\n"
                + "            \"protocol\": \"TCP\",\n"
                + "            \"port\": 53,\n"
                + "            \"targetPort\": 53\n"
                + "          }\n"
                + "        ],\n"
                + "        \"selector\": {\n"
                + "          \"k8s-app\": \"kube-dns\"\n"
                + "        },\n"
                + "        \"clusterIP\": \"10.0.0.10\",\n"
                + "        \"type\": \"ClusterIP\",\n"
                + "        \"sessionAffinity\": \"None\"\n"
                + "      },\n"
                + "      \"status\": {\n"
                + "        \"loadBalancer\": {}\n"
                + "      }\n"
                + "    },\n"
                + "    {\n"
                + "      \"metadata\": {\n"
                + "        \"name\": \"kubernetes-dashboard\",\n"
                + "        \"namespace\": \"kube-system\",\n"
                + "        \"selfLink\": \"/api/v1/namespaces/kube-system/services/kubernetes-dashboard\",\n"
                + "        \"uid\": \"4b343174-eed0-11e6-b39c-005056803d65\",\n"
                + "        \"resourceVersion\": \"197\",\n"
                + "        \"creationTimestamp\": \"2017-02-09T14:01:46Z\",\n"
                + "        \"labels\": {\n"
                + "          \"app\": \"kubernetes-dashboard\"\n"
                + "        },\n"
                + "        \"annotations\": {\n"
                + "          \"kubectl.kubernetes.io/last-applied-configuration\": \"{\\\"kind\\\":\\\"Service\\\",\\\"apiVersion\\\":\\\"v1\\\",\\\"metadata\\\":{\\\"name\\\":\\\"kubernetes-dashboard\\\",\\\"namespace\\\":\\\"kube-system\\\",\\\"creationTimestamp\\\":null,\\\"labels\\\":{\\\"app\\\":\\\"kubernetes-dashboard\\\"}},\\\"spec\\\":{\\\"ports\\\":[{\\\"port\\\":80,\\\"targetPort\\\":9090}],\\\"selector\\\":{\\\"app\\\":\\\"kubernetes-dashboard\\\"},\\\"type\\\":\\\"NodePort\\\"},\\\"status\\\":{\\\"loadBalancer\\\":{}}}\"\n"
                + "        }\n"
                + "      },\n"
                + "      \"spec\": {\n"
                + "        \"ports\": [\n"
                + "          {\n"
                + "            \"protocol\": \"TCP\",\n"
                + "            \"port\": 80,\n"
                + "            \"targetPort\": 9090,\n"
                + "            \"nodePort\": 31402\n"
                + "          }\n"
                + "        ],\n"
                + "        \"selector\": {\n"
                + "          \"app\": \"kubernetes-dashboard\"\n"
                + "        },\n"
                + "        \"clusterIP\": \"10.0.77.25\",\n"
                + "        \"type\": \"NodePort\",\n"
                + "        \"sessionAffinity\": \"None\"\n"
                + "      },\n"
                + "      \"status\": {\n"
                + "        \"loadBalancer\": {}\n"
                + "      }\n"
                + "    }\n"
                + "  ]\n"
                + "}";
    }

    private String deploymentStub() {
        return "{\n"
                + "  \"kind\": \"DeploymentList\",\n"
                + "  \"apiVersion\": \"extensions/v1beta1\",\n"
                + "  \"metadata\": {\n"
                + "    \"selfLink\": \"/apis/extensions/v1beta1/namespaces/kube-system/deployments\",\n"
                + "    \"resourceVersion\": \"2049254\"\n"
                + "  },\n"
                + "  \"items\": [\n"
                + "    {\n"
                + "      \"metadata\": {\n"
                + "        \"name\": \"heapster-v1.2.0\",\n"
                + "        \"namespace\": \"kube-system\",\n"
                + "        \"selfLink\": \"/apis/extensions/v1beta1/namespaces/kube-system/deployments/heapster-v1.2.0\",\n"
                + "        \"uid\": \"4b3a9314-eed0-11e6-b39c-005056803d65\",\n"
                + "        \"resourceVersion\": \"2043376\",\n"
                + "        \"generation\": 2,\n"
                + "        \"creationTimestamp\": \"2017-02-09T14:01:46Z\",\n"
                + "        \"labels\": {\n"
                + "          \"k8s-app\": \"heapster\",\n"
                + "          \"kubernetes.io/cluster-service\": \"true\",\n"
                + "          \"version\": \"v1.2.0\"\n"
                + "        },\n"
                + "        \"annotations\": {\n"
                + "          \"deployment.kubernetes.io/revision\": \"1\",\n"
                + "          \"kubectl.kubernetes.io/last-applied-configuration\": \"{\\\"kind\\\":\\\"Deployment\\\",\\\"apiVersion\\\":\\\"extensions/v1beta1\\\",\\\"metadata\\\":{\\\"name\\\":\\\"heapster-v1.2.0\\\",\\\"namespace\\\":\\\"kube-system\\\",\\\"creationTimestamp\\\":null,\\\"labels\\\":{\\\"k8s-app\\\":\\\"heapster\\\",\\\"kubernetes.io/cluster-service\\\":\\\"true\\\",\\\"version\\\":\\\"v1.2.0\\\"}},\\\"spec\\\":{\\\"replicas\\\":1,\\\"selector\\\":{\\\"matchLabels\\\":{\\\"k8s-app\\\":\\\"heapster\\\",\\\"version\\\":\\\"v1.2.0\\\"}},\\\"template\\\":{\\\"metadata\\\":{\\\"creationTimestamp\\\":null,\\\"labels\\\":{\\\"k8s-app\\\":\\\"heapster\\\",\\\"version\\\":\\\"v1.2.0\\\"},\\\"annotations\\\":{\\\"scheduler.alpha.kubernetes.io/critical-pod\\\":\\\"\\\",\\\"scheduler.alpha.kubernetes.io/tolerations\\\":\\\"[{\\\\\\\"key\\\\\\\":\\\\\\\"CriticalAddonsOnly\\\\\\\", \\\\\\\"operator\\\\\\\":\\\\\\\"Exists\\\\\\\"}]\\\"}},\\\"spec\\\":{\\\"containers\\\":[{\\\"name\\\":\\\"heapster\\\",\\\"image\\\":\\\"gcr.io/google_containers/heapster:v1.2.0\\\",\\\"command\\\":[\\\"/heapster\\\",\\\"--source=kubernetes.summary_api:''\\\"],\\\"resources\\\":{\\\"limits\\\":{\\\"cpu\\\":\\\"80m\\\",\\\"memory\\\":\\\"140Mi\\\"},\\\"requests\\\":{\\\"cpu\\\":\\\"80m\\\",\\\"memory\\\":\\\"140Mi\\\"}}},{\\\"name\\\":\\\"heapster-nanny\\\",\\\"image\\\":\\\"gcr.io/google_containers/addon-resizer:1.6\\\",\\\"command\\\":[\\\"/pod_nanny\\\",\\\"--cpu=80m\\\",\\\"--extra-cpu=0.5m\\\",\\\"--memory=140Mi\\\",\\\"--extra-memory=4Mi\\\",\\\"--threshold=5\\\",\\\"--deployment=heapster-v1.2.0-beta.1\\\",\\\"--container=heapster\\\",\\\"--poll-period=300000\\\",\\\"--estimator=exponential\\\"],\\\"env\\\":[{\\\"name\\\":\\\"MY_POD_NAME\\\",\\\"valueFrom\\\":{\\\"fieldRef\\\":{\\\"fieldPath\\\":\\\"metadata.name\\\"}}},{\\\"name\\\":\\\"MY_POD_NAMESPACE\\\",\\\"valueFrom\\\":{\\\"fieldRef\\\":{\\\"fieldPath\\\":\\\"metadata.namespace\\\"}}}],\\\"resources\\\":{\\\"limits\\\":{\\\"cpu\\\":\\\"50m\\\",\\\"memory\\\":\\\"90Mi\\\"},\\\"requests\\\":{\\\"cpu\\\":\\\"50m\\\",\\\"memory\\\":\\\"90Mi\\\"}}}]}},\\\"strategy\\\":{}},\\\"status\\\":{}}\"\n"
                + "        }\n"
                + "      },\n"
                + "      \"spec\": {\n"
                + "        \"replicas\": 1,\n"
                + "        \"selector\": {\n"
                + "          \"matchLabels\": {\n"
                + "            \"k8s-app\": \"heapster\",\n"
                + "            \"version\": \"v1.2.0\"\n"
                + "          }\n"
                + "        },\n"
                + "        \"template\": {\n"
                + "          \"metadata\": {\n"
                + "            \"creationTimestamp\": null,\n"
                + "            \"labels\": {\n"
                + "              \"k8s-app\": \"heapster\",\n"
                + "              \"version\": \"v1.2.0\"\n"
                + "            },\n"
                + "            \"annotations\": {\n"
                + "              \"scheduler.alpha.kubernetes.io/critical-pod\": \"\",\n"
                + "              \"scheduler.alpha.kubernetes.io/tolerations\": \"[{\\\"key\\\":\\\"CriticalAddonsOnly\\\", \\\"operator\\\":\\\"Exists\\\"}]\"\n"
                + "            }\n"
                + "          },\n"
                + "          \"spec\": {\n"
                + "            \"containers\": [\n"
                + "              {\n"
                + "                \"name\": \"heapster\",\n"
                + "                \"image\": \"gcr.io/google_containers/heapster:v1.2.0\",\n"
                + "                \"command\": [\n"
                + "                  \"/heapster\",\n"
                + "                  \"--source=kubernetes.summary_api:''\"\n"
                + "                ],\n"
                + "                \"resources\": {\n"
                + "                  \"limits\": {\n"
                + "                    \"cpu\": \"80m\",\n"
                + "                    \"memory\": \"140Mi\"\n"
                + "                  },\n"
                + "                  \"requests\": {\n"
                + "                    \"cpu\": \"80m\",\n"
                + "                    \"memory\": \"140Mi\"\n"
                + "                  }\n"
                + "                },\n"
                + "                \"terminationMessagePath\": \"/dev/termination-log\",\n"
                + "                \"imagePullPolicy\": \"IfNotPresent\"\n"
                + "              },\n"
                + "              {\n"
                + "                \"name\": \"heapster-nanny\",\n"
                + "                \"image\": \"gcr.io/google_containers/addon-resizer:1.6\",\n"
                + "                \"command\": [\n"
                + "                  \"/pod_nanny\",\n"
                + "                  \"--cpu=80m\",\n"
                + "                  \"--extra-cpu=0.5m\",\n"
                + "                  \"--memory=140Mi\",\n"
                + "                  \"--extra-memory=4Mi\",\n"
                + "                  \"--threshold=5\",\n"
                + "                  \"--deployment=heapster-v1.2.0-beta.1\",\n"
                + "                  \"--container=heapster\",\n"
                + "                  \"--poll-period=300000\",\n"
                + "                  \"--estimator=exponential\"\n"
                + "                ],\n"
                + "                \"env\": [\n"
                + "                  {\n"
                + "                    \"name\": \"MY_POD_NAME\",\n"
                + "                    \"valueFrom\": {\n"
                + "                      \"fieldRef\": {\n"
                + "                        \"apiVersion\": \"v1\",\n"
                + "                        \"fieldPath\": \"metadata.name\"\n"
                + "                      }\n"
                + "                    }\n"
                + "                  },\n"
                + "                  {\n"
                + "                    \"name\": \"MY_POD_NAMESPACE\",\n"
                + "                    \"valueFrom\": {\n"
                + "                      \"fieldRef\": {\n"
                + "                        \"apiVersion\": \"v1\",\n"
                + "                        \"fieldPath\": \"metadata.namespace\"\n"
                + "                      }\n"
                + "                    }\n"
                + "                  }\n"
                + "                ],\n"
                + "                \"resources\": {\n"
                + "                  \"limits\": {\n"
                + "                    \"cpu\": \"50m\",\n"
                + "                    \"memory\": \"90Mi\"\n"
                + "                  },\n"
                + "                  \"requests\": {\n"
                + "                    \"cpu\": \"50m\",\n"
                + "                    \"memory\": \"90Mi\"\n"
                + "                  }\n"
                + "                },\n"
                + "                \"terminationMessagePath\": \"/dev/termination-log\",\n"
                + "                \"imagePullPolicy\": \"IfNotPresent\"\n"
                + "              }\n"
                + "            ],\n"
                + "            \"restartPolicy\": \"Always\",\n"
                + "            \"terminationGracePeriodSeconds\": 30,\n"
                + "            \"dnsPolicy\": \"ClusterFirst\",\n"
                + "            \"securityContext\": {}\n"
                + "          }\n"
                + "        },\n"
                + "        \"strategy\": {\n"
                + "          \"type\": \"RollingUpdate\",\n"
                + "          \"rollingUpdate\": {\n"
                + "            \"maxUnavailable\": 1,\n"
                + "            \"maxSurge\": 1\n"
                + "          }\n"
                + "        }\n"
                + "      },\n"
                + "      \"status\": {\n"
                + "        \"observedGeneration\": 2,\n"
                + "        \"replicas\": 1,\n"
                + "        \"updatedReplicas\": 1,\n"
                + "        \"availableReplicas\": 1\n"
                + "      }\n"
                + "    },\n"
                + "    {\n"
                + "      \"metadata\": {\n"
                + "        \"name\": \"kubernetes-dashboard\",\n"
                + "        \"namespace\": \"kube-system\",\n"
                + "        \"selfLink\": \"/apis/extensions/v1beta1/namespaces/kube-system/deployments/kubernetes-dashboard\",\n"
                + "        \"uid\": \"4b173849-eed0-11e6-b39c-005056803d65\",\n"
                + "        \"resourceVersion\": \"2047391\",\n"
                + "        \"generation\": 2,\n"
                + "        \"creationTimestamp\": \"2017-02-09T14:01:46Z\",\n"
                + "        \"labels\": {\n"
                + "          \"app\": \"kubernetes-dashboard\",\n"
                + "          \"version\": \"v1.4.1\"\n"
                + "        },\n"
                + "        \"annotations\": {\n"
                + "          \"deployment.kubernetes.io/revision\": \"1\",\n"
                + "          \"kubectl.kubernetes.io/last-applied-configuration\": \"{\\\"kind\\\":\\\"Deployment\\\",\\\"apiVersion\\\":\\\"extensions/v1beta1\\\",\\\"metadata\\\":{\\\"name\\\":\\\"kubernetes-dashboard\\\",\\\"namespace\\\":\\\"kube-system\\\",\\\"creationTimestamp\\\":null,\\\"labels\\\":{\\\"app\\\":\\\"kubernetes-dashboard\\\",\\\"version\\\":\\\"v1.4.1\\\"}},\\\"spec\\\":{\\\"replicas\\\":1,\\\"selector\\\":{\\\"matchLabels\\\":{\\\"app\\\":\\\"kubernetes-dashboard\\\"}},\\\"template\\\":{\\\"metadata\\\":{\\\"creationTimestamp\\\":null,\\\"labels\\\":{\\\"app\\\":\\\"kubernetes-dashboard\\\"}},\\\"spec\\\":{\\\"containers\\\":[{\\\"name\\\":\\\"kubernetes-dashboard\\\",\\\"image\\\":\\\"gcr.io/google_containers/kubernetes-dashboard-amd64:v1.4.1\\\",\\\"ports\\\":[{\\\"containerPort\\\":9090,\\\"protocol\\\":\\\"TCP\\\"}],\\\"resources\\\":{},\\\"livenessProbe\\\":{\\\"httpGet\\\":{\\\"path\\\":\\\"/\\\",\\\"port\\\":9090},\\\"initialDelaySeconds\\\":30,\\\"timeoutSeconds\\\":30},\\\"imagePullPolicy\\\":\\\"Always\\\"}]}},\\\"strategy\\\":{}},\\\"status\\\":{}}\"\n"
                + "        }\n"
                + "      },\n"
                + "      \"spec\": {\n"
                + "        \"replicas\": 1,\n"
                + "        \"selector\": {\n"
                + "          \"matchLabels\": {\n"
                + "            \"app\": \"kubernetes-dashboard\"\n"
                + "          }\n"
                + "        },\n"
                + "        \"template\": {\n"
                + "          \"metadata\": {\n"
                + "            \"creationTimestamp\": null,\n"
                + "            \"labels\": {\n"
                + "              \"app\": \"kubernetes-dashboard\"\n"
                + "            }\n"
                + "          },\n"
                + "          \"spec\": {\n"
                + "            \"containers\": [\n"
                + "              {\n"
                + "                \"name\": \"kubernetes-dashboard\",\n"
                + "                \"image\": \"gcr.io/google_containers/kubernetes-dashboard-amd64:v1.4.1\",\n"
                + "                \"ports\": [\n"
                + "                  {\n"
                + "                    \"containerPort\": 9090,\n"
                + "                    \"protocol\": \"TCP\"\n"
                + "                  }\n"
                + "                ],\n"
                + "                \"resources\": {},\n"
                + "                \"livenessProbe\": {\n"
                + "                  \"httpGet\": {\n"
                + "                    \"path\": \"/\",\n"
                + "                    \"port\": 9090,\n"
                + "                    \"scheme\": \"HTTP\"\n"
                + "                  },\n"
                + "                  \"initialDelaySeconds\": 30,\n"
                + "                  \"timeoutSeconds\": 30,\n"
                + "                  \"periodSeconds\": 10,\n"
                + "                  \"successThreshold\": 1,\n"
                + "                  \"failureThreshold\": 3\n"
                + "                },\n"
                + "                \"terminationMessagePath\": \"/dev/termination-log\",\n"
                + "                \"imagePullPolicy\": \"Always\"\n"
                + "              }\n"
                + "            ],\n"
                + "            \"restartPolicy\": \"Always\",\n"
                + "            \"terminationGracePeriodSeconds\": 30,\n"
                + "            \"dnsPolicy\": \"ClusterFirst\",\n"
                + "            \"securityContext\": {}\n"
                + "          }\n"
                + "        },\n"
                + "        \"strategy\": {\n"
                + "          \"type\": \"RollingUpdate\",\n"
                + "          \"rollingUpdate\": {\n"
                + "            \"maxUnavailable\": 1,\n"
                + "            \"maxSurge\": 1\n"
                + "          }\n"
                + "        }\n"
                + "      },\n"
                + "      \"status\": {\n"
                + "        \"observedGeneration\": 2,\n"
                + "        \"replicas\": 1,\n"
                + "        \"updatedReplicas\": 1,\n"
                + "        \"availableReplicas\": 1\n"
                + "      }\n"
                + "    }\n"
                + "  ]\n"
                + "}";
    }

    private String replicationControllerStub() {
        return "{\n"
                + "  \"kind\": \"ReplicationControllerList\",\n"
                + "  \"apiVersion\": \"v1\",\n"
                + "  \"metadata\": {\n"
                + "    \"selfLink\": \"/api/v1/namespaces/kube-system/replicationcontrollers\",\n"
                + "    \"resourceVersion\": \"2278764\"\n"
                + "  },\n"
                + "  \"items\": [\n"
                + "    {\n"
                + "      \"metadata\": {\n"
                + "        \"name\": \"kube-dns-v19\",\n"
                + "        \"namespace\": \"kube-system\",\n"
                + "        \"selfLink\": \"/api/v1/namespaces/kube-system/replicationcontrollers/kube-dns-v19\",\n"
                + "        \"uid\": \"4b51e1a4-eed0-11e6-b39c-005056803d65\",\n"
                + "        \"resourceVersion\": \"2047389\",\n"
                + "        \"generation\": 1,\n"
                + "        \"creationTimestamp\": \"2017-02-09T14:01:46Z\",\n"
                + "        \"labels\": {\n"
                + "          \"k8s-app\": \"kube-dns\",\n"
                + "          \"version\": \"v19\"\n"
                + "        },\n"
                + "        \"annotations\": {\n"
                + "          \"kubectl.kubernetes.io/last-applied-configuration\": \"{\\\"kind\\\":\\\"ReplicationController\\\",\\\"apiVersion\\\":\\\"v1\\\",\\\"metadata\\\":{\\\"name\\\":\\\"kube-dns-v19\\\",\\\"namespace\\\":\\\"kube-system\\\",\\\"creationTimestamp\\\":null,\\\"labels\\\":{\\\"k8s-app\\\":\\\"kube-dns\\\",\\\"version\\\":\\\"v19\\\"}},\\\"spec\\\":{\\\"replicas\\\":2,\\\"selector\\\":{\\\"k8s-app\\\":\\\"kube-dns\\\",\\\"version\\\":\\\"v19\\\"},\\\"template\\\":{\\\"metadata\\\":{\\\"creationTimestamp\\\":null,\\\"labels\\\":{\\\"k8s-app\\\":\\\"kube-dns\\\",\\\"kubernetes.io/cluster-service\\\":\\\"true\\\",\\\"version\\\":\\\"v19\\\"},\\\"annotations\\\":{\\\"scheduler.alpha.kubernetes.io/critical-pod\\\":\\\"\\\",\\\"scheduler.alpha.kubernetes.io/tolerations\\\":\\\"[{\\\\\\\"key\\\\\\\":\\\\\\\"CriticalAddonsOnly\\\\\\\", \\\\\\\"operator\\\\\\\":\\\\\\\"Exists\\\\\\\"}]\\\"}},\\\"spec\\\":{\\\"containers\\\":[{\\\"name\\\":\\\"kubedns\\\",\\\"image\\\":\\\"gcr.io/google_containers/kubedns-amd64:1.7\\\",\\\"args\\\":[\\\"--domain=cluster.local.\\\",\\\"--dns-port=10053\\\"],\\\"ports\\\":[{\\\"name\\\":\\\"dns-local\\\",\\\"containerPort\\\":10053,\\\"protocol\\\":\\\"UDP\\\"},{\\\"name\\\":\\\"dns-tcp-local\\\",\\\"containerPort\\\":10053,\\\"protocol\\\":\\\"TCP\\\"}],\\\"resources\\\":{\\\"limits\\\":{\\\"memory\\\":\\\"170Mi\\\"},\\\"requests\\\":{\\\"cpu\\\":\\\"100m\\\",\\\"memory\\\":\\\"70Mi\\\"}},\\\"livenessProbe\\\":{\\\"httpGet\\\":{\\\"path\\\":\\\"/healthz-kubedns\\\",\\\"port\\\":8080,\\\"scheme\\\":\\\"HTTP\\\"},\\\"initialDelaySeconds\\\":60,\\\"timeoutSeconds\\\":5,\\\"successThreshold\\\":1,\\\"failureThreshold\\\":5},\\\"readinessProbe\\\":{\\\"httpGet\\\":{\\\"path\\\":\\\"/readiness\\\",\\\"port\\\":8081,\\\"scheme\\\":\\\"HTTP\\\"},\\\"initialDelaySeconds\\\":30,\\\"timeoutSeconds\\\":5}},{\\\"name\\\":\\\"dnsmasq\\\",\\\"image\\\":\\\"gcr.io/google_containers/kube-dnsmasq-amd64:1.3\\\",\\\"args\\\":[\\\"--cache-size=1000\\\",\\\"--no-resolv\\\",\\\"--server=127.0.0.1#10053\\\",\\\"--log-facility=-\\\"],\\\"ports\\\":[{\\\"name\\\":\\\"dns\\\",\\\"containerPort\\\":53,\\\"protocol\\\":\\\"UDP\\\"},{\\\"name\\\":\\\"dns-tcp\\\",\\\"containerPort\\\":53,\\\"protocol\\\":\\\"TCP\\\"}],\\\"resources\\\":{}},{\\\"name\\\":\\\"healthz\\\",\\\"image\\\":\\\"gcr.io/google_containers/exechealthz-amd64:1.2\\\",\\\"args\\\":[\\\"--cmd=nslookup kubernetes.default.svc.cluster.local 127.0.0.1 \\\\u003e/dev/null\\\",\\\"--url=/healthz-dnsmasq\\\",\\\"--cmd=nslookup kubernetes.default.svc.cluster.local 127.0.0.1:10053 \\\\u003e/dev/null\\\",\\\"--url=/healthz-kubedns\\\",\\\"--port=8080\\\",\\\"--quiet\\\"],\\\"ports\\\":[{\\\"containerPort\\\":8080,\\\"protocol\\\":\\\"TCP\\\"}],\\\"resources\\\":{\\\"limits\\\":{\\\"memory\\\":\\\"50Mi\\\"},\\\"requests\\\":{\\\"cpu\\\":\\\"10m\\\",\\\"memory\\\":\\\"50Mi\\\"}},\\\"livenessProbe\\\":{\\\"httpGet\\\":{\\\"path\\\":\\\"/healthz-dnsmasq\\\",\\\"port\\\":8080,\\\"scheme\\\":\\\"HTTP\\\"},\\\"initialDelaySeconds\\\":60,\\\"timeoutSeconds\\\":5,\\\"successThreshold\\\":1,\\\"failureThreshold\\\":5}}],\\\"dnsPolicy\\\":\\\"Default\\\"}}},\\\"status\\\":{\\\"replicas\\\":0}}\"\n"
                + "        }\n"
                + "      },\n"
                + "      \"spec\": {\n"
                + "        \"replicas\": 2,\n"
                + "        \"selector\": {\n"
                + "          \"k8s-app\": \"kube-dns\",\n"
                + "          \"version\": \"v19\"\n"
                + "        },\n"
                + "        \"template\": {\n"
                + "          \"metadata\": {\n"
                + "            \"creationTimestamp\": null,\n"
                + "            \"labels\": {\n"
                + "              \"k8s-app\": \"kube-dns\",\n"
                + "              \"kubernetes.io/cluster-service\": \"true\",\n"
                + "              \"version\": \"v19\"\n"
                + "            },\n"
                + "            \"annotations\": {\n"
                + "              \"scheduler.alpha.kubernetes.io/critical-pod\": \"\",\n"
                + "              \"scheduler.alpha.kubernetes.io/tolerations\": \"[{\\\"key\\\":\\\"CriticalAddonsOnly\\\", \\\"operator\\\":\\\"Exists\\\"}]\"\n"
                + "            }\n"
                + "          },\n"
                + "          \"spec\": {\n"
                + "            \"containers\": [\n"
                + "              {\n"
                + "                \"name\": \"kubedns\",\n"
                + "                \"image\": \"gcr.io/google_containers/kubedns-amd64:1.7\",\n"
                + "                \"args\": [\n"
                + "                  \"--domain=cluster.local.\",\n"
                + "                  \"--dns-port=10053\"\n"
                + "                ],\n"
                + "                \"ports\": [\n"
                + "                  {\n"
                + "                    \"name\": \"dns-local\",\n"
                + "                    \"containerPort\": 10053,\n"
                + "                    \"protocol\": \"UDP\"\n"
                + "                  },\n"
                + "                  {\n"
                + "                    \"name\": \"dns-tcp-local\",\n"
                + "                    \"containerPort\": 10053,\n"
                + "                    \"protocol\": \"TCP\"\n"
                + "                  }\n"
                + "                ],\n"
                + "                \"resources\": {\n"
                + "                  \"limits\": {\n"
                + "                    \"memory\": \"170Mi\"\n"
                + "                  },\n"
                + "                  \"requests\": {\n"
                + "                    \"cpu\": \"100m\",\n"
                + "                    \"memory\": \"70Mi\"\n"
                + "                  }\n"
                + "                },\n"
                + "                \"livenessProbe\": {\n"
                + "                  \"httpGet\": {\n"
                + "                    \"path\": \"/healthz-kubedns\",\n"
                + "                    \"port\": 8080,\n"
                + "                    \"scheme\": \"HTTP\"\n"
                + "                  },\n"
                + "                  \"initialDelaySeconds\": 60,\n"
                + "                  \"timeoutSeconds\": 5,\n"
                + "                  \"periodSeconds\": 10,\n"
                + "                  \"successThreshold\": 1,\n"
                + "                  \"failureThreshold\": 5\n"
                + "                },\n"
                + "                \"readinessProbe\": {\n"
                + "                  \"httpGet\": {\n"
                + "                    \"path\": \"/readiness\",\n"
                + "                    \"port\": 8081,\n"
                + "                    \"scheme\": \"HTTP\"\n"
                + "                  },\n"
                + "                  \"initialDelaySeconds\": 30,\n"
                + "                  \"timeoutSeconds\": 5,\n"
                + "                  \"periodSeconds\": 10,\n"
                + "                  \"successThreshold\": 1,\n"
                + "                  \"failureThreshold\": 3\n"
                + "                },\n"
                + "                \"terminationMessagePath\": \"/dev/termination-log\",\n"
                + "                \"imagePullPolicy\": \"IfNotPresent\"\n"
                + "              },\n"
                + "              {\n"
                + "                \"name\": \"dnsmasq\",\n"
                + "                \"image\": \"gcr.io/google_containers/kube-dnsmasq-amd64:1.3\",\n"
                + "                \"args\": [\n"
                + "                  \"--cache-size=1000\",\n"
                + "                  \"--no-resolv\",\n"
                + "                  \"--server=127.0.0.1#10053\",\n"
                + "                  \"--log-facility=-\"\n"
                + "                ],\n"
                + "                \"ports\": [\n"
                + "                  {\n"
                + "                    \"name\": \"dns\",\n"
                + "                    \"containerPort\": 53,\n"
                + "                    \"protocol\": \"UDP\"\n"
                + "                  },\n"
                + "                  {\n"
                + "                    \"name\": \"dns-tcp\",\n"
                + "                    \"containerPort\": 53,\n"
                + "                    \"protocol\": \"TCP\"\n"
                + "                  }\n"
                + "                ],\n"
                + "                \"resources\": {},\n"
                + "                \"terminationMessagePath\": \"/dev/termination-log\",\n"
                + "                \"imagePullPolicy\": \"IfNotPresent\"\n"
                + "              },\n"
                + "              {\n"
                + "                \"name\": \"healthz\",\n"
                + "                \"image\": \"gcr.io/google_containers/exechealthz-amd64:1.2\",\n"
                + "                \"args\": [\n"
                + "                  \"--cmd=nslookup kubernetes.default.svc.cluster.local 127.0.0.1 \\u003e/dev/null\",\n"
                + "                  \"--url=/healthz-dnsmasq\",\n"
                + "                  \"--cmd=nslookup kubernetes.default.svc.cluster.local 127.0.0.1:10053 \\u003e/dev/null\",\n"
                + "                  \"--url=/healthz-kubedns\",\n"
                + "                  \"--port=8080\",\n"
                + "                  \"--quiet\"\n"
                + "                ],\n"
                + "                \"ports\": [\n"
                + "                  {\n"
                + "                    \"containerPort\": 8080,\n"
                + "                    \"protocol\": \"TCP\"\n"
                + "                  }\n"
                + "                ],\n"
                + "                \"resources\": {\n"
                + "                  \"limits\": {\n"
                + "                    \"memory\": \"50Mi\"\n"
                + "                  },\n"
                + "                  \"requests\": {\n"
                + "                    \"cpu\": \"10m\",\n"
                + "                    \"memory\": \"50Mi\"\n"
                + "                  }\n"
                + "                },\n"
                + "                \"livenessProbe\": {\n"
                + "                  \"httpGet\": {\n"
                + "                    \"path\": \"/healthz-dnsmasq\",\n"
                + "                    \"port\": 8080,\n"
                + "                    \"scheme\": \"HTTP\"\n"
                + "                  },\n"
                + "                  \"initialDelaySeconds\": 60,\n"
                + "                  \"timeoutSeconds\": 5,\n"
                + "                  \"periodSeconds\": 10,\n"
                + "                  \"successThreshold\": 1,\n"
                + "                  \"failureThreshold\": 5\n"
                + "                },\n"
                + "                \"terminationMessagePath\": \"/dev/termination-log\",\n"
                + "                \"imagePullPolicy\": \"IfNotPresent\"\n"
                + "              }\n"
                + "            ],\n"
                + "            \"restartPolicy\": \"Always\",\n"
                + "            \"terminationGracePeriodSeconds\": 30,\n"
                + "            \"dnsPolicy\": \"Default\",\n"
                + "            \"securityContext\": {}\n"
                + "          }\n"
                + "        }\n"
                + "      },\n"
                + "      \"status\": {\n"
                + "        \"replicas\": 2,\n"
                + "        \"fullyLabeledReplicas\": 2,\n"
                + "        \"readyReplicas\": 2,\n"
                + "        \"observedGeneration\": 1\n"
                + "      }\n"
                + "    }\n"
                + "  ]\n"
                + "}";
    }

    private String statsProxyStub() {
        return "{\n"
                + "  \"objectMeta\": {\n"
                + "   \"name\": \"127.0.0.1\",\n"
                + "   \"labels\": {\n"
                + "    \"beta.kubernetes.io/arch\": \"amd64\",\n"
                + "    \"beta.kubernetes.io/os\": \"linux\",\n"
                + "    \"kubernetes.io/hostname\": \"127.0.0.1\"\n"
                + "   },\n"
                + "   \"annotations\": {\n"
                + "    \"volumes.kubernetes.io/controller-managed-attach-detach\": \"true\"\n"
                + "   },\n"
                + "   \"creationTimestamp\": \"2017-01-09T10:42:14Z\"\n"
                + "  },\n"
                + "  \"typeMeta\": {\n"
                + "   \"kind\": \"node\"\n"
                + "  },\n"
                + "  \"allocatedResources\": {\n"
                + "   \"cpuRequests\": 365,\n"
                + "   \"cpuRequestsFraction\": 9.125,\n"
                + "   \"cpuLimits\": 100,\n"
                + "   \"cpuLimitsFraction\": 2.5,\n"
                + "   \"cpuCapacity\": 4000,\n"
                + "   \"memoryRequests\": 251658240,\n"
                + "   \"memoryRequestsFraction\": 3.067712871262411,\n"
                + "   \"memoryLimits\": 283115520,\n"
                + "   \"memoryLimitsFraction\": 3.451176980170212,\n"
                + "   \"memoryCapacity\": 8203448320,\n"
                + "   \"allocatedPods\": 7,\n"
                + "   \"podCapacity\": 110\n"
                + "  },\n"
                + "  \"externalID\": \"127.0.0.1\",\n"
                + "  \"podCIDR\": \"\",\n"
                + "  \"providerID\": \"\",\n"
                + "  \"unschedulable\": false,\n"
                + "  \"nodeInfo\": {\n"
                + "   \"machineID\": \"cf742c5b2ef64b18a93d3785f5444d22\",\n"
                + "   \"systemUUID\": \"421D99A3-F381-0EE4-8517-7B2B1FDB9C83\",\n"
                + "   \"bootID\": \"56139095-c991-4a8f-8d67-c0631bb770d7\",\n"
                + "   \"kernelVersion\": \"3.10.0-327.36.3.el7.x86_64\",\n"
                + "   \"osImage\": \"Debian GNU/Linux 8 (jessie)\",\n"
                + "   \"containerRuntimeVersion\": \"docker://1.12.3\",\n"
                + "   \"kubeletVersion\": \"v1.5.1\",\n"
                + "   \"kubeProxyVersion\": \"v1.5.1\",\n"
                + "   \"operatingSystem\": \"linux\",\n"
                + "   \"architecture\": \"amd64\"\n"
                + "  },\n"
                + "  \"podList\": {\n"
                + "   \"listMeta\": {\n"
                + "    \"totalItems\": 7\n"
                + "   }\n"
                + "  }\n"
                + " }";
    }
}
