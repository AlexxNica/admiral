<!--
  ~ Copyright (c) 2017 VMware, Inc. All Rights Reserved.
  ~
  ~ This product is licensed to you under the Apache License, Version 2.0 (the "License").
  ~ You may not use this product except in compliance with the License.
  ~
  ~ This product may include a number of subcomponents with separate copyright notices
  ~ and license terms. Your use of these subcomponents is subject to the terms and
  ~ conditions of the subcomponent's license, as noted in the LICENSE file.
  -->

<p>{{"identity.usersgroups.description" | i18n}}</p>

<form class="form" [formGroup]="searchPrincipalsForm">
    <section class="form-block">
        <div class="form-group">
            <label>{{"identity.usersgroups.fieldTitleSearch" | i18n}}</label>
            <simple-search displayPropertyName="id"
                           (searchChange)="searchPrincipals($event)"
                           (searchSelectionChange)="onSearchSelection($event)"
                           ></simple-search>
            <a class="clickable clear-search-btn" (click)="clearSearch()"><clr-icon shape="remove" size="20"></clr-icon></a>
        </div>
    </section>
</form>
<clr-datagrid class="IdentityUsersGroupsGrid">
    <clr-dg-column>{{"identity.usersgroups.columnName" | i18n}}</clr-dg-column>
    <clr-dg-column>{{"identity.usersgroups.columnPrimaryId" | i18n}}</clr-dg-column>
    <!--<clr-dg-column>{{"identity.usersgroups.columnCloudAdmin" | i18n}}</clr-dg-column>-->
    <!--<clr-dg-column>{{"identity.usersgroups.columnProjects" | i18n}}</clr-dg-column>-->

    <clr-dg-row *clrDgItems="let principal of selectedPrincipals" [clrDgItem]="principal">
        <!--<clr-dg-action-overflow>-->
            <!--<button class="action-item" (click)="onEdit(principal)">{{"edit" | i18n}}</button>-->
            <!--<button class="action-item" (click)="onRemove(principal)">{{"remove" | i18n}}</button>-->
        <!--</clr-dg-action-overflow>-->
        <clr-dg-cell><clr-icon *ngIf="principal.type == 'USER'" shape="user"></clr-icon>
            <clr-icon *ngIf="principal.type == 'GROUP'" shape="group"></clr-icon> {{principal.name}}</clr-dg-cell>
        <clr-dg-cell>{{principal.id}}</clr-dg-cell>
        <!--<clr-dg-cell><clr-icon shape="check"></clr-icon></clr-dg-cell>-->
        <!--<clr-dg-cell>TODO list projects and roles</clr-dg-cell>-->
    </clr-dg-row>

    <clr-dg-footer>{{selectedPrincipals.length}} {{"identity.usersgroups.count" | i18n}}</clr-dg-footer>

</clr-datagrid>
